SET(CMAKE_BUILD_TYPE Release)
SET(CMAKE_TOOLCHAIN_FILE JN5169.cmake)

PROJECT(GPSLogger)
CMAKE_MINIMUM_REQUIRED(VERSION 3.8)
ENABLE_LANGUAGE(CXX)

IF(NOT SDK_PREFIX)
     MESSAGE(FATAL_ERROR "No SDK_PREFIX specified")
ENDIF()


INCLUDE_DIRECTORIES(
	${SDK_PREFIX}/Components/Common/Include
	${SDK_PREFIX}/Components/Dbg/Include
	${SDK_PREFIX}/Components/HardwareAPI/Include
)

LINK_DIRECTORIES(
	${SDK_PREFIX}/Components/Library
	${SDK_PREFIX}/Chip/JN5169/Build
)

ADD_DEFINITIONS(
	-DJENNIC_CHIP_NAME=_JN5169
	-DJENNIC_CHIP_FAMILY_NAME=_JN516x

-DCONFIG_MANUFACTURER_CODE=0x1037
-DCONFIG_APP_SW_VERSION=7
-DCONFIG_HW_VERSION=1
-DCONFIG_MANUFACTURER_NAME="NXP"
-DCONFIG_MODEL_ID="DIMMER_SW"
-DCONFIG_DATE_CODE="10-31-2014"
-DSINGLE_CHANNEL=0
-DKEEP_ALIVETIME=1
-DSLEEP_ENABLE
-DDEEP_SLEEP_ENABLE
-DDR1199
-DDimmerSwitch
-DBUTTON_MAP_DR1199
-DSLEEPY_ZED
-DEZ_MODE_INITIATOR
-DEZ_ENABLE_GROUP
-DDBG_ENABLE
-DDEBUG_APP_BUTTON
-DDEBUG_APP
-DDEBUG_START_UP
-DDEBUG_SWITCH_STATE
-DDEBUG_SWITCH_TASK
-DDEBUG_SWITCH_NODE
-DDimmerSwitch
-DPDM_USER_SUPPLIED_ID
-DJN516x=5160
-DJN5169=5169
-DJENNIC_CHIP_NAME=_JN5169
-DJENNIC_CHIP_FAMILY_NAME=_JN516x
-DWATCHDOG_ENABLED
-DJENNIC_HW_BBC_RXINCCA=1
-DJENNIC_HW_BBC_DMA=1
-DJENNIC_HW_BBC_ISA=0
-DJENNIC_SW_EXTERNAL_FLASH=0
-DJN516X_DMA_UART_BACKWARDS_COMPATIBLE_API=1
-DUART_BACKWARDS_COMPATIBLE_API=1
-DRXPOWERADJUST_SUPPORT
-DJENNIC_CHIP=JN5169
-DJENNIC_CHIP_JN5169
-DJENNIC_CHIP_FAMILY=JN516x
-DJENNIC_CHIP_FAMILY_JN516x
-DJENNIC_STACK_ZCL
-DJENNIC_MAC_MiniMacShim
-DEMBEDDED
-DJENNIC_PCB=DEVKIT4
-DJENNIC_PCB_DEVKIT4
-DPDM_USER_SUPPLIED_ID
-DPDM_NO_RTOS
-DPDM_EEPROM
-DDBG_ENABLE
-DZPS_APL_OPT_SINGLE_INSTANCE
-DOTA_NO_CERTIFICATE
-DPLME_SAP
-DZBPRO_DEVICE_TYPE_ZED
-DBDB_SUPPORT_NWK_STEERING
-DBDB_SUPPORT_FIND_AND_BIND_INITIATOR
)

SET(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} -TAppBuildZBPro.ld")

ADD_EXECUTABLE(HelloWorld HelloWorld.c)
TARGET_LINK_LIBRARIES(HelloWorld
	HardwareApi_JN5169
)

STM32_PRINT_SIZE_OF_TARGETS(HelloWorld)
STM32_ADD_HEX_BIN_TARGETS(HelloWorld)
STM32_ADD_DUMP_TARGET(HelloWorld)
